import base64
from jose import jwt

payload = {"test": 123}
b64_str = "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRREdMa1Z1dE5SZGZTbGsKajIvNTZHY0UySDc2cTEzWWtVejdHMDlWOU9MRWhSazRNQ0lObWFUdmpWZDNNUFM4aXJ4WDdML2VyUTkwOWtpYQpIcHZBUjJtenFjQ2xKTXNiUUZ1SDRFWXlwL2RrYXR2TmxZcUgvZitIaDQ1TGxnUE14ZzRUL0c3azRzTjA3K3M5ClBPaEMyMFBrS0EySVRkSDc1Y1MzeHk1TGZHTlc4WnpDTE44TEl6ZGpIaXh0cVMvM0RQeDJnaG9YbFV0bnQrNUoKMnNaTzVQS01mRlpPOTUvUXppaDVEUzEvdzhEM3pmM3BwaU4vMEJ2WnVyWGdaa1dSdDcxSXFtekpJZUQ0TUhEWQpEd1NHVXpVcTFIdXZDUlVjQTlUNUpvOHlKSXBlQ3NwYUlRSHhaMmg3Tk9vNWNPM21jc3drU1VLK01VczBEcDJMClFsSm11QkJEQWdNQkFBRUNnZ0VBSXhvZkFqVFZTSm5hc3cwVThGYlJxSElRUzZYK3dWVTdKVjc0OW1paG9kMVIKVWpwMFRhUmhLbTBHaVA0SzJ6cFhrZHRGUU5PMllTa2VRdTRZK0QydDR6eTErb3BCejFuZTNIcEU5TVA3ZGJYWApxTnBMNXpwK0FDdHFjTWpwYzJQQktwa1RxMGJmQjk5Vzgwbk9lY2tNaFdUeXdLbkgvNjM2NGZKTnFPRW5WMGEwCkhUQmsweXM0d2FINU9haUhaV3A3bUh6SGJxM3JpWW1ibnp6bHlrRWFub1lWMWRRWk9rdnMvTExqVmtqWlBsR1kKV1FwMkxmak9KR3BpbVNOSEdNZFZSc0RHeGl3WFg4MkhNTnJndXRyaVB0ZWdGUzZ5MzF3UTdaQWl2ME1IWEl0KwpVUE40TENvVzVjZ0Z6L3lKZ0h2VmhVbXc1Tzh5b0lwMUxQczhRS0hIQVFLQmdRRDV5NTVBRkVHN0hJTXRsZ05jCm9PTXdWMWV2VGVTR2dYSndQMnNhN0tNYmRlbXFzbnY1c2xHSXh5WkE4T000TmNsend2cjNrNm5RRWk2T3NEZkYKQ0xHR3ZZQm5ueUx2ZUhMTHNBZk5OZlRSTjR1ZEhHQ1h5TjJGQjBZR2JLdGF0SmEwQkFhaUZrc01SRWtVRmJWZgpTdXdBckhGZXhtSmFOOTI2NjN5eU9PWmswd0tCZ1FETEduTU5yeEtmZEdyRVhTcW5jMmpDdEpmN1lseGkvaWNJClYrQ21kbVVFeXJGRjVyZW42elZjbzBMWDQ5TDFvaktlQjQ0VDZ4MEg2a3JsVFZibVB2VlJsR0dtY2IxZGtKSHAKcFpuTFk0VVhzY212NDZxYkFnUG03dHEwaWhERkc0cHVSdVFDV3lZc09ubEJEbFV4M3Z0SVd4cEVycForVDdUbgp3TUZkT2dsQTBRS0JnRGNqTE9FMEYzWTN5dlRMQWg3MkhHL1ZON09vVytNY3U2ZnZON01Qdk1rWTgrVUwxTFcvCkdLUTZZVVZBWnNkSGlCb1hWZEpFTTkyTHhkOFZJcHBKV3ZaRTZnejFZWDYrZFloa2FMUnhUb0xINGZkaUJpZzYKM0RxNjZrZ013SjRhOHBEMXVva1lwcVFraG9UNmJiaUZEeWJ1Nlc5a0Z0MlhLMGhSSm9zb2FDS2xBb0dBR0Y3OApIMUE2czllTVdETzF3cEllcC81em5qNlhSMm1uMVdCMkhJTm9hOExHc3RTVWhSbThOWG1CczlZcW9qN3NRL28wCkdqL0VKQWNCSmJLNkVyYkxTUmE5QVBQMC9SMHo1UTF4L3UzYU1wV3ExZWhEdUlYdFlmQ1hYY0tUY0pOMWNQWWcKdGdlcDlQU3ZTQmNvTWV2SHkwN2pRQXFURkdVTUdDTVJFTmE5OVlFQ2dZRUFuNk1hYVBab2NBL0hRSmdvUS9lTgpoZWhQOGJtYmhHUjVhKy9NeXZiMWZPT2I5YStsZExVY1JjVDRqay82NTNrT0lGVWNTSnVQcEppMVdmWmUvUnZZCmhzMndxU3pYb0RiYzUzMlJyS2ZzUGdBak93ZVd0NHpzUnNqV2FkSDJLQXNlTS91T0k5QjFLR3BBSTNyQ094akgKSTJXbDBaclkrOHJBU0VpZ2ZhbG9VNzA9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"

private_key = base64.b64decode(b64_str).decode('utf-8')
print("--- Decoded ---")
print(repr(private_key))

try:
    token = jwt.encode(payload, private_key, algorithm="RS256")
    print("\nSUCCESS:", token)
except Exception as e:
    import traceback
    traceback.print_exc()
